<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>æ²ç¤ºæ¿</title>
    <link rel="stylesheet" href="style.css">
    <script>
        const url = new URL(window.location.href);
        const params = url.searchParams;
        const id = params.get('id');
    </script>
  </head>
  <body>
    <h1>å®Œäº†ã—ã¾ã—ãŸã‹ï¼ŸğŸ¶</h1>
    <table>
      <tr id="delete"></tr>
    </table>
    <button id="send">å®Œäº†ã«ã™ã‚‹</button><br><br>

 <!-- ã“ã“ã‹ã‚‰JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
    <script>
      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å‚ç…§ã‚’æº–å‚™
    var firebaseRef = new Firebase("https://first-hp-3c02e-default-rtdb.firebaseio.com"); 
      var messagesRef = firebaseRef.child('/boad1/'+id +'/'); 
    messagesRef.once('value', function(snapshot, prevChildKey) { // æŠ•ç¨¿ãŒå¢—ãˆãŸã‚‰å–å¾—
        var msg = snapshot.val();
        $('<tr>').html("<td>" + msg.text +"</td><td>" +msg.date +   "</td>").prependTo('#delete');
      });
 
 
      $('#send').click(function() {//sendãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‰ç™ºç«
        messagesRef.once('value', function(snapshot) { // æŠ•ç¨¿ãŒå¢—ãˆãŸã‚‰å–å¾—
        var data = snapshot.val();
        messagesRef.remove();
        // $('<tr>').html("å®Œäº†ã—ã¾ã—ãŸ").prependTo('#delete');
            window.location.href = 'index.html';
        });
      });
    </script>
  <script src="/__/firebase/8.4.2/firebase-app.js"></script>
  <script src="/__/firebase/8.4.2/firebase-analytics.js"></script>
  <script src="/__/firebase/init.js"></script>
  <a href="index.html" id="top">TOPã«æˆ»ã‚‹</a>
  </body>
</html>